function setCourseValues(){const e=document.getElementById("courseSelect"),t=document.getElementById("courseNameDisp");if(e.selectedIndex>=0){const n=e.options[e.selectedIndex].text;t.value=n}}function setOptionValues(){const e=document.getElementById("CourseOptionId"),t=document.getElementById("CourseOption");if(e.selectedIndex>=0){const n=e.options[e.selectedIndex].text;t.value=n}}function changeDispWhetherIsVist(e){e?(visitSection.style.display="block",salonSection.style.display="none"):(visitSection.style.display="none",salonSection.style.display="block")}function updateSelectedSalons(){const e=Array.from(document.querySelectorAll(".salon-checkbox:checked")).map((e=>e.value)).join(",");document.getElementById("DesiredSalon").value=e}function setEndTimeFromStartTime(e){const t=initStartDateTime(e,!1);if(1==t)alert("現在日時より後の日時をご選択ください");else if(2==t)return;const n=e.getAttribute("data-pair"),a=document.getElementById(n);if(e.value){const t=new Date(e.value),n=new Date(t.getTime()+108e5);t.setMinutes(10*Math.ceil(t.getMinutes()/10)),n.setMinutes(10*Math.ceil(n.getMinutes()/10));const i=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0"),r=n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0")+"T"+String(n.getHours()).padStart(2,"0")+":"+String(n.getMinutes()).padStart(2,"0");e.value=i,a.value=r}else a.value=""}function setStartTimeAndEndTime(){const e=document.querySelectorAll(".datetime-start")[0];initStartDateTime(e,!0)>=0&&setEndTimeFromStartTime(e)}function initStartDateTime(e,t){if(""==e.value){if(t){let t=new Date;t.setMinutes(t.getMinutes()+1),t.setMinutes(10*Math.ceil(t.getMinutes()/10));let n=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0");return e.value=n,0}return 2}if(new Date(e.value)<new Date){let t=new Date;t.setMinutes(t.getMinutes()+1),t.setMinutes(10*Math.ceil(t.getMinutes()/10));let n=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0");return e.value=n,1}let n=new Date(e.value);n.setMinutes(10*Math.ceil(n.getMinutes()/10));let a=n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0")+"T"+String(n.getHours()).padStart(2,"0")+":"+String(n.getMinutes()).padStart(2,"0");return e.value=a,-1}function initEndDateTime(e){if(""==e.value)return-1;if(new Date(e.value)<new Date){let t=new Date;t.setMinutes(t.getMinutes()+1),t.setMinutes(10*Math.ceil(t.getMinutes()/10));let n=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0");return e.value=n,0}let t=new Date(e.value);t.setMinutes(10*Math.ceil(t.getMinutes()/10));let n=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0");return e.value=n,1}function recoverSelectedSalons(){const e=document.getElementById("DesiredSalon").value.split(",");document.querySelectorAll(".salon-checkbox").forEach((t=>{e.includes(t.value)?t.checked=!0:t.checked=!1}))}document.addEventListener("DOMContentLoaded",(function(){document.getElementById("courseSelect").addEventListener("change",(function(){setCourseValues()})),document.getElementById("CourseOptionId").addEventListener("change",(function(){setOptionValues()})),document.querySelector('input[name="IsVisit"]').addEventListener("change",(function(){changeDispWhetherIsVist(this.checked)})),document.querySelectorAll(".salon-checkbox").forEach((e=>{e.addEventListener("change",updateSelectedSalons)})),document.querySelectorAll(".datetime-start").forEach((e=>{e.addEventListener("blur",(function(){setEndTimeFromStartTime(this)}))})),document.querySelectorAll(".datetime-end").forEach((e=>{e.addEventListener("blur",(function(){0==initEndDateTime(this)&&alert("現在日時より後の日時をご選択ください")}))})),setCourseValues(),setOptionValues(),changeDispWhetherIsVist(document.querySelector('input[name="IsVisit"]').checked),recoverSelectedSalons(),setStartTimeAndEndTime()}));